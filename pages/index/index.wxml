<!-- pages/index/index.wxml -->
<view class="container page-content">
  <!-- é¡¶éƒ¨èƒŒæ™¯åŒºåŸŸ -->
  <view class="header-bg">
    <view class="snowflake">â„ï¸</view>
    <view class="admin-icon" bindtap="goToAddBook">â•</view>
    <text class="title">é˜…è¯»è®°å½•å°åŠ©æ‰‹</text>
    <text class="subtitle">å’ŒShellyä¸€èµ·æ¢ç´¢ä¹¦æµ·ï¼Œçˆ±ä¸Šé˜…è¯»</text>
  </view>

  <!-- æœç´¢æ  -->
  <view class="search-bar" bindtap="goToSearch">
    <view class="search-icon">ğŸ”</view>
    <text class="search-placeholder">æœç´¢ä¹¦åã€ä½œè€…æˆ–ç±»å‹</text>
  </view>

  <!-- å¹´çº§åˆ†ç±» -->
  <view class="section-title">
    <view class="section-icon">ğŸ“š</view>
    <text>æŒ‰å¹´çº§é€‰æ‹©</text>
  </view>

  <view class="grade-cards">
    <view class="grade-card grade-1" bindtap="goToList" data-grade="ä¸€è‡³äºŒå¹´çº§">
      <text class="grade-name">ä¸€è‡³äºŒå¹´çº§</text>
      <text class="book-count">{{stats.grade1}}æœ¬</text>
      <view class="card-icon">ğŸ‘§</view>
    </view>

    <view class="grade-card grade-2" bindtap="goToList" data-grade="ä¸‰è‡³å››å¹´çº§">
      <text class="grade-name">ä¸‰è‡³å››å¹´çº§</text>
      <text class="book-count">{{stats.grade2}}æœ¬</text>
      <view class="card-icon">ğŸ‘©</view>
    </view>

    <view class="grade-card grade-3" bindtap="goToList" data-grade="äº”è‡³å…­å¹´çº§">
      <text class="grade-name">äº”è‡³å…­å¹´çº§</text>
      <text class="book-count">{{stats.grade3}}æœ¬</text>
      <view class="card-icon">ğŸ‘¸</view>
    </view>
  </view>

  <!-- å¿«æ·å…¥å£ -->
  <view class="section-title">
    <view class="section-icon">âš¡</view>
    <text>å¿«æ·å…¥å£</text>
  </view>

  <view class="quick-entries">
    <view class="quick-entry" bindtap="goToUnread">
      <view class="entry-icon">ğŸ“–</view>
      <text class="entry-text">æœªé˜…è¯»</text>
      <text class="entry-count">{{stats.unread}}æœ¬</text>
    </view>

    <view class="quick-entry" bindtap="goToPurchased">
      <view class="entry-icon">ğŸ›’</view>
      <text class="entry-text">æœªè´­ä¹°</text>
      <text class="entry-count">{{(stats.grade1 + stats.grade2 + stats.grade3) - stats.purchased}}æœ¬</text>
    </view>

    <view class="quick-entry" bindtap="goToIntensive">
      <view class="entry-icon">â­</view>
      <text class="entry-text">å·²ç²¾è¯»</text>
      <text class="entry-count">{{stats.intensive}}æœ¬</text>
    </view>

    <view class="quick-entry" bindtap="goToAllBooks">
      <view class="entry-icon">ğŸ“š</view>
      <text class="entry-text">å…¨éƒ¨ä¹¦ç±</text>
      <text class="entry-count">{{stats.grade1 + stats.grade2 + stats.grade3}}æœ¬</text>
    </view>

    <view class="quick-entry" bindtap="goToFeedback">
      <view class="entry-icon">ğŸ’¬</view>
      <text class="entry-text">æ„è§å»ºè®®</text>
    </view>
  </view>

  <!-- æ•°æ®ç»Ÿè®¡ -->
  <view class="section-title">
    <view class="section-icon">ğŸ“Š</view>
    <text>æ•°æ®ç»Ÿè®¡</text>
  </view>

  <view class="stats-cards">
    <view class="stat-card">
      <text class="stat-number">{{stats.grade1 + stats.grade2 + stats.grade3}}</text>
      <text class="stat-label">æ€»ä¹¦ç±</text>
    </view>
    <view class="stat-card">
      <text class="stat-number">{{stats.purchased}}</text>
      <text class="stat-label">å·²è´­ä¹°</text>
    </view>
    <view class="stat-card">
      <text class="stat-number">{{(stats.grade1 + stats.grade2 + stats.grade3) - stats.unread}}</text>
      <text class="stat-label">å·²é˜…è¯»</text>
    </view>
    <view class="stat-card">
      <text class="stat-number">{{stats.intensive}}</text>
      <text class="stat-label">å·²ç²¾è¯»</text>
    </view>
  </view>

  <!-- åŠ è½½æç¤º -->
  <view wx:if="{{loading}}" class="loading">åŠ è½½ä¸­...</view>
</view>